#include <chrono>

void measureSearchPerformance(int N) {
    using namespace std::chrono;

    std::random_device rd;
    std::mt19937 gen(rd());
    std::uniform_int_distribution<> dis(1, 100);

    double sumRBS = 0, sumIBS = 0, sumSeqS = 0;

    for (int i = 0; i < 10; ++i) {
        std::vector<int> vec(N);
        for (int& val : vec) val = dis(gen);
        std::sort(vec.begin(), vec.end());
        int target = dis(gen);

        auto start = high_resolution_clock::now();
        recursiveBinarySearch(vec, 0, vec.size() - 1, target);
        auto end = high_resolution_clock::now();
        sumRBS += duration_cast<microseconds>(end - start).count();

        start = high_resolution_clock::now();
        iterativeBinarySearch(vec, target);
        end = high_resolution_clock::now();
        sumIBS += duration_cast<microseconds>(end - start).count();

        start = high_resolution_clock::now();
        sequentialSearch(vec, target);
        end = high_resolution_clock::now();
        sumSeqS += duration_cast<microseconds>(end - start).count();
    }

    std::cout << "N = " << N << "\n";
    std::cout << "Average Running Time for Recursive Binary Search: " << sumRBS / 10.0 << " µs\n";
    std::cout << "Average Running Time for Iterative Binary Search: " << sumIBS / 10.0 << " µs\n";
    std::cout << "Average Running Time for Sequential Search: " << sumSeqS / 10.0 << " µs\n\n";
}
